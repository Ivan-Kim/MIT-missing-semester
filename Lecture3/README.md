# Exercises 3: Editors (Vim)

1. Complete `vimtutor`. Note: it looks best in a
   [80x24](https://en.wikipedia.org/wiki/VT100) (80 columns by 24 lines)
   terminal window.
1. Download our [basic vimrc](/2020/files/vimrc) and save it to `~/.vimrc`. Read
   through the well-commented file (using Vim!), and observe how Vim looks and
   behaves slightly differently with the new config.
1. Install and configure a plugin:
   [ctrlp.vim](https://github.com/ctrlpvim/ctrlp.vim).
   1. Create the plugins directory with `mkdir -p ~/.vim/pack/vendor/start`
   1. Download the plugin: `cd ~/.vim/pack/vendor/start; git clone https://github.com/ctrlpvim/ctrlp.vim`
   1. Read the
      [documentation](https://github.com/ctrlpvim/ctrlp.vim/blob/master/readme.md)
      for the plugin. Try using CtrlP to locate a file by navigating to a
      project directory, opening Vim, and using the Vim command-line to start
      `:CtrlP`.
   1. Customize CtrlP by adding
      [configuration](https://github.com/ctrlpvim/ctrlp.vim/blob/master/readme.md#basic-options)
      to your `~/.vimrc` to open CtrlP by pressing Ctrl-P.
1. To practice using Vim, re-do the [Demo](#demo) from lecture on your own
   machine.
1. Use Vim for _all_ your text editing for the next month. Whenever something
   seems inefficient, or when you think "there must be a better way", try
   Googling it, there probably is. If you get stuck, come to office hours or
   send us an email.
1. Configure your other tools to use Vim bindings (see instructions above).
1. Further customize your `~/.vimrc` and install more plugins.
1. (Advanced) Convert XML to JSON ([example file](/2020/files/example-data.xml))
   using Vim macros. Try to do this on your own, but you can look at the
   [macros](#macros) section above if you get stuck.

   - Use sed / regexes
     `:g/people/d :%s/<person>/{/g :%s/<\/person>/}/g :%s/<name>\(.*\)<\/name>/"name": "\1",/g :%s/<email>\(.*\)<\/email>/"email": "\1",/g`

   Vim commands / macros

   - Delete first and last lines

     ```
     Gdd
     ggdd
     ```

   - Macro to format a single element (register `e`)
     Go to line with `<name>`
     ```
     qe^r"f>s": "<ESC>f<C"<ESC>q
     ```
   - Macro to format a person
     Go to line with `<person>`
     ```
     qpS{<ESC>j@eA,<ESC>j@ejS},<ESC>q
     ```
   - Macro to format a person and go to the next person

     Go to line with `<person>`

     ```
     qq@pjq
     ```

   - Execute macro until end of file
     ```
     999@q
     ```
   - Manually remove last `,` and add `[` and `]` delimiters
